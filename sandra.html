<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Import Google Icon Font/ has a nice arrangment of fonts-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS/ all the css magic -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Compiled and minified JavaScript/ cool stuff like parallax scrolling and such -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- <script type="text/javascript" src="js/materialize.min.js"></script> -->
    <title>Project01</title>
</head>

<body>
    <Div class="container">
        <H1>Video Game Bytes</H1>
        <h2>h2 title</h2>
        <h3>h3 title</h3>
        <h4>h4 title</h4>
        <h5>h5 title</h5>
        <h6>h6 title</h6>
        <p>Main paragraph
        <p>game info, etc</p>
        </p>
        <table class="table">
            <thead>
                <tr>
                    <!-- The scope attribute specifies that this is a header for a column -->
                    <th scope="col">Name</th>
                    <th scope="col">Playtime</th>
                    <th scope="col">Rating</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Interstellar</td>
                    <td>2014</td>
                    <td>Ellen Burstyn, Matthew McConaughey, Mackenzie Foy, John Lithgow</td>
                </tr>
                <!-- Insert additional movie rows here -->
            </tbody>
        </table>
    </Div>

    <!--JavaScript at end of body for optimized loading-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        var createdisplay = function (data) {
            // Create a new table row element
            var tRow = $("<tr>");

            // Methods run on jQuery selectors return the selector they we run on
            // This is why we can create and save a reference to a td in the same statement we update its text
            var nameTd = $("<td>").text(data.name);
            var playtimeTd = $("<td>").text(data.playtime);
            var ratingTd = $("<td>").text(data.rating);

            // Append the newly created table data to the table row
            tRow.append(nameTd, playtimeTd, ratingTd);
            // Append the table row to the table body
            $("tbody").append(tRow);
        };

        var i = 0;

        var anything = [""];
        var searchGames = function (anything) {

            // constructing a queryURL variable we will use instead of the literal string inside of the ajax method

            var queryURL = "https://api.rawg.io/api/games?search=" + anything;

            $.ajax({
                url: queryURL,
                method: "GET"
            }).then(function (response) {
                var searchResults = response.results[i];

                console.log(response.results[i]);
                createdisplay(response.results[i]);

                //OR

                var gameInfo = $("<p>").text(response.results[i].name);
                $(".container").append(gameInfo);

                console.log(response.results[i].id);
            });
        };
        // ---------------------------------------------------------
        searchGames("portal");
        searchGames("Halo");

    </script>

</body>

</html>